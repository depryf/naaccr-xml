// this Gradle file is used to release extra stuff (like the SAS macros)


task assembleDistribution(dependsOn: ['assemble', 'jarSas', 'sourcesSasJar']) {
    group = 'distribution'
    doLast {
        // SAS stuff
        copy {
            from "build/libs/${project.name}-${project.version}-sas.jar"
            from 'docs/sas/macro/read_naaccr_xml_macro.sas'
            from 'docs/sas/macro/write_naaccr_xml_macro.sas'
            into 'build/dist/sas'
        }
    }
}

task createDistribution(type: Zip, dependsOn: 'assembleDistribution') {
    group = 'distribution'
    archiveFileName = "naaccr-xml-utility-${project.version}.zip"
    destinationDirectory = file('build')
    from 'build/dist'
    into "naaccr-xml-utility-${project.version}"
}